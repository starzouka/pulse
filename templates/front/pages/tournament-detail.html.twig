{% extends 'base.html.twig' %}

{% block title %}PULSE - Détail tournoi{% endblock %}

{% block body %}


  {% include 'front/partials/_hero_mini.html.twig' with {
  hero_kicker: 'TOURNOI',
  hero_title: 'Détail tournoi',
  hero_sub: 'Progression, scores, matchs et équipes.',
  breadcrumb_current: 'Détail tournoi'
} %}


  <main class="page">
    <section class="belowHero">

      <div class="layout">
        <section class="panel">
          <h3 style="margin:0;">Pulse Invitational — Valorant</h3>
          <p class="muted">Organisateur: Pulse Org • Format: BO3 • Prize pool: 1200 DT</p>
          <div class="list" style="margin-top:10px;">
            <div class="listItem"><span>Dates</span><span class="listItem__meta">18–22 fév</span></div>
            <div class="listItem"><span>Deadline</span><span class="listItem__meta">15 fév</span></div>
            <div class="listItem"><span>Max équipes</span><span class="listItem__meta">16</span></div>
            <div class="listItem"><span>Statut</span><span class="badge badge--info">OPEN</span></div>
          </div>
          <div class="progress" style="margin-top:10px;"><div class="progress__bar" style="width:45%"></div></div>
          <div class="muted" style="margin-top:6px;">9 matchs terminés / 20</div>
        </section>
        <aside class="panel">
          <h3 class="panel__title">INSCRIPTIONS</h3>
          <div class="list">
            <div class="listItem"><span>Équipes acceptées</span><span class="listItem__meta">8 / 16</span></div>
            <div class="listItem"><span>Mode</span><span class="listItem__meta">APPROVAL</span></div>
          </div>
          <a class="btn btn--primary" style="margin-top:10px;" href="{{ path('front_login') }}">Participer / Inscrire équipe</a>
        </aside>
      </div>

      <div class="panel">
        <div class="tabs" data-tabs="tourn-tabs">
          <button class="tab is-active" data-tab="overview">Aperçu</button>
          <button class="tab" data-tab="scores">Scores</button>
          <button class="tab" data-tab="matches">Matchs</button>
          <button class="tab" data-tab="teams">Équipes</button>
        </div>
        <div class="tabPanels" data-panels="tourn-tabs">
          <section class="tabPanel is-active" data-panel="overview">
            <p class="muted">Description du tournoi + règles principales (rules).</p>
            <div class="list">
              <div class="listItem"><span>Règles</span><span class="listItem__meta">BO3, double élimination</span></div>
              <div class="listItem"><span>Inscriptions</span><span class="listItem__meta">Ouvertes jusqu’au 15 fév</span></div>
            </div>
          </section>
          <section class="tabPanel" data-panel="scores">
            <div class="tableWrap">
              <table class="table">
                <thead><tr><th>Équipe</th><th>MJ</th><th>V</th><th>D</th><th>Points</th></tr></thead>
                <tbody>
                  <tr><td>Nebula Five</td><td>5</td><td>4</td><td>1</td><td>12</td></tr>
                  <tr><td>North Hydra</td><td>5</td><td>3</td><td>2</td><td>9</td></tr>
                  <tr><td>Sandstorm</td><td>5</td><td>2</td><td>3</td><td>6</td></tr>
                </tbody>
              </table>
            </div>
          </section>
          <section class="tabPanel" data-panel="matches">
            <h4 style="margin:0 0 8px;">Matchs terminés</h4>
            <div class="cardsGrid">

    <article class="card card--tournament">
      <div class="card__media" data-bg="https://picsum.photos/seed/pulse_m3/1200/800">
        <div class="card__chips">
          <span class="chip">FINISHED</span>
          <span class="chip">Final</span>
          <span class="chip">Pulse Invitational</span>
        </div>
      </div>
      <div class="card__body">
        <h4 class="card__title">Nebula Five vs Sandstorm</h4>
        <p class="card__desc">Terminé</p>
        <div class="card__actions">
          <a class="btn btn--ghost" href="{{ path('front_match_detail') }}">Détail match</a>
        </div>
      </div>
    </article>

</div>
            <h4 style="margin:14px 0 8px;">Matchs en cours</h4>
            <div class="cardsGrid">

    <article class="card card--tournament">
      <div class="card__media" data-bg="https://picsum.photos/seed/pulse_m2/1200/800">
        <div class="card__chips">
          <span class="chip">ONGOING</span>
          <span class="chip">Semifinal</span>
          <span class="chip">League Clash</span>
        </div>
      </div>
      <div class="card__body">
        <h4 class="card__title">Sandstorm vs Aurora Squad</h4>
        <p class="card__desc">Live</p>
        <div class="card__actions">
          <a class="btn btn--ghost" href="{{ path('front_match_detail') }}">Détail match</a>
        </div>
      </div>
    </article>

</div>
            <h4 style="margin:14px 0 8px;">Matchs à venir</h4>
            <div class="cardsGrid">

    <article class="card card--tournament">
      <div class="card__media" data-bg="https://picsum.photos/seed/pulse_m1/1200/800">
        <div class="card__chips">
          <span class="chip">SCHEDULED</span>
          <span class="chip">Quarterfinal</span>
          <span class="chip">CS2 Arena Cup</span>
        </div>
      </div>
      <div class="card__body">
        <h4 class="card__title">Nebula Five vs North Hydra</h4>
        <p class="card__desc">Jeu 20:00</p>
        <div class="card__actions">
          <a class="btn btn--ghost" href="{{ path('front_match_detail') }}">Détail match</a>
        </div>
      </div>
    </article>

</div>
          </section>
          <section class="tabPanel" data-panel="teams">
            <div class="cardsGrid">

    <article class="card card--team">
      <div class="card__media" data-bg="https://picsum.photos/seed/pulse_team_1/1200/800">
        <div class="card__chips">
          <span class="chip chip--region">MENA</span>
          <span class="chip">Membres: 12</span>
        </div>
      </div>
      <div class="card__body">
        <h4 class="card__title">Nebula Five</h4>
        <p class="card__desc">Équipe e-sport • Tournois • Boutique</p>
        <div class="avatarRow">
          <div class="avatar" data-avatar="https://picsum.photos/seed/pulse_logo_1/200/200" aria-hidden="true"></div>
          <div class="avatarText">
            <div class="name">Nebula Five</div>
            <div class="sub">MENA • 12 membres</div>
          </div>
        </div>
        <div class="card__actions">
          <a class="btn btn--ghost" href="{{ path('front_team_detail') }}">Détail équipe</a>
        </div>
      </div>
    </article>


    <article class="card card--team">
      <div class="card__media" data-bg="https://picsum.photos/seed/pulse_team_2/1200/800">
        <div class="card__chips">
          <span class="chip chip--region">EU</span>
          <span class="chip">Membres: 9</span>
        </div>
      </div>
      <div class="card__body">
        <h4 class="card__title">North Hydra</h4>
        <p class="card__desc">Équipe e-sport • Tournois • Boutique</p>
        <div class="avatarRow">
          <div class="avatar" data-avatar="https://picsum.photos/seed/pulse_logo_2/200/200" aria-hidden="true"></div>
          <div class="avatarText">
            <div class="name">North Hydra</div>
            <div class="sub">EU • 9 membres</div>
          </div>
        </div>
        <div class="card__actions">
          <a class="btn btn--ghost" href="{{ path('front_team_detail') }}">Détail équipe</a>
        </div>
      </div>
    </article>


    <article class="card card--team">
      <div class="card__media" data-bg="https://picsum.photos/seed/pulse_team_3/1200/800">
        <div class="card__chips">
          <span class="chip chip--region">MENA</span>
          <span class="chip">Membres: 15</span>
        </div>
      </div>
      <div class="card__body">
        <h4 class="card__title">Sandstorm</h4>
        <p class="card__desc">Équipe e-sport • Tournois • Boutique</p>
        <div class="avatarRow">
          <div class="avatar" data-avatar="https://picsum.photos/seed/pulse_logo_3/200/200" aria-hidden="true"></div>
          <div class="avatarText">
            <div class="name">Sandstorm</div>
            <div class="sub">MENA • 15 membres</div>
          </div>
        </div>
        <div class="card__actions">
          <a class="btn btn--ghost" href="{{ path('front_team_detail') }}">Détail équipe</a>
        </div>
      </div>
    </article>


    <article class="card card--team">
      <div class="card__media" data-bg="https://picsum.photos/seed/pulse_team_4/1200/800">
        <div class="card__chips">
          <span class="chip chip--region">NA</span>
          <span class="chip">Membres: 10</span>
        </div>
      </div>
      <div class="card__body">
        <h4 class="card__title">Aurora Squad</h4>
        <p class="card__desc">Équipe e-sport • Tournois • Boutique</p>
        <div class="avatarRow">
          <div class="avatar" data-avatar="https://picsum.photos/seed/pulse_logo_4/200/200" aria-hidden="true"></div>
          <div class="avatarText">
            <div class="name">Aurora Squad</div>
            <div class="sub">NA • 10 membres</div>
          </div>
        </div>
        <div class="card__actions">
          <a class="btn btn--ghost" href="{{ path('front_team_detail') }}">Détail équipe</a>
        </div>
      </div>
    </article>

</div>
          </section>
        </div>
      </div>

      
      <div class="panel">
        <div class="panel__head">
          <div>
            <h3 class="panel__title">TABLES UTILISÉES</h3>
            <div class="panel__desc">Schéma réel + colonnes clés.</div>
          </div>
        </div>
        <div class="list">
          <div class="listItem"><span><b>tournaments</b></span><span class="listItem__meta">tournament_id, game_id, organizer_user_id, title, rules, status, prize_pool</span></div><div class="listItem"><span><b>matches</b></span><span class="listItem__meta">match_id, tournament_id, status, round_name, scheduled_at</span></div><div class="listItem"><span><b>match_teams</b></span><span class="listItem__meta">match_id, team_id, score, is_winner</span></div><div class="listItem"><span><b>tournament_teams</b></span><span class="listItem__meta">tournament_id, team_id, status, seed</span></div><div class="listItem"><span><b>teams</b></span><span class="listItem__meta">team_id, name, captain_user_id</span></div><div class="listItem"><span><b>users</b></span><span class="listItem__meta">user_id, display_name</span></div>
        </div>
      </div>

    

      {% include 'front/partials/_footer.html.twig' %}

    </section>
  </main>

  {% include 'front/partials/_auth_modal.html.twig' %}

{% endblock %}


