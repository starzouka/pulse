{% extends 'base.html.twig' %}

{% block title %}PULSE - Creer produit{% endblock %}

{% block body %}
  {% include 'front/partials/_hero_mini.html.twig' with {
    hero_kicker: 'CAPITAINE',
    hero_title: 'Creer produit',
    hero_sub: "Ajout d'un nouveau produit dans l'equipe active.",
    breadcrumb_current: 'Creer produit'
  } %}

  <main class="page">
    <section class="belowHero">
      <div class="layout">
        {% include 'front/partials/_captain_side_nav.html.twig' with {
          active: 'products',
          active_team: active_team
        } %}

        <div>
          {% include 'front/partials/_captain_team_selector.html.twig' with {
            captain_teams: captain_teams,
            active_team: active_team,
            selector_route: 'front_captain_product_create'
          } %}

          <form class="panel" method="post" action="{{ path('front_captain_product_create', {team: active_team.teamId}) }}" enctype="multipart/form-data">
            <div class="panel__head">
              <div>
                <h3 class="panel__title">NOUVEAU PRODUIT</h3>
                <div class="panel__desc">Tous les champs relies a la table products + upload images.</div>
              </div>
            </div>

            <div class="formGrid" style="margin-top:12px;">
              <label class="field">
                <span class="field__label">Nom *</span>
                <input class="input" type="text" name="name" required maxlength="150">
              </label>

              <label class="field">
                <span class="field__label">Prix (DT) *</span>
                <input class="input" type="number" name="price" min="0" step="0.01" required>
              </label>

              <label class="field">
                <span class="field__label">Stock *</span>
                <input class="input" type="number" name="stock_qty" min="0" step="1" value="0" required>
              </label>

              <label class="field">
                <span class="field__label">SKU</span>
                <input class="input" type="text" name="sku" maxlength="64">
              </label>

              <label class="field">
                <span class="field__label">Statut</span>
                <select class="input" name="is_active">
                  <option value="1">Actif</option>
                  <option value="0">Inactif</option>
                </select>
              </label>

              <label class="field">
                <span class="field__label">Description</span>
                <textarea class="textarea" name="description" rows="5"></textarea>
              </label>

              <label class="field">
                <span class="field__label">Images produit</span>
                <input class="input" type="file" name="images[]" accept="image/png,image/jpeg,image/webp,image/gif" multiple>
              </label>
            </div>

            <div class="formActions" style="margin-top:12px;">
              <input type="hidden" name="_token" value="{{ csrf_token('captain_product_create') }}">
              <input type="hidden" name="team_id" value="{{ active_team.teamId }}">
              <button class="btn btn--primary" type="submit">Creer produit</button>
              <a class="btn btn--ghost" href="{{ path('front_captain_products', {team: active_team.teamId}) }}">Retour liste</a>
            </div>
          </form>
        </div>
      </div>

      {% include 'front/partials/_footer.html.twig' %}
    </section>
  </main>

  {% include 'front/partials/_auth_modal.html.twig' %}
{% endblock %}

